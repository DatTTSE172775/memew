/* ========= Tailwind v4 base ========= */
@import "tailwindcss";

/* (tuỳ) nếu dùng animation utilities riêng */
/* @import "tw-animate-css"; */

/* ========= THEME ALIASES (Tailwind v4 @theme) =========
   LƯU Ý: phải bọc bằng hsl(var(--...)) để Tailwind hiểu là color hợp lệ.
*/
@theme {
  /* Semantic colors */
  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));

  --color-card: hsl(var(--card));
  --color-card-foreground: hsl(var(--card-foreground));
  --color-popover: hsl(var(--popover));
  --color-popover-foreground: hsl(var(--popover-foreground));

  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));
  --color-primary-hover: hsl(var(--primary-hover));
  --color-primary-light: hsl(var(--primary-light));
  /* Extra primary set (custom) */
  --color-primary-2: hsl(var(--primary-2));
  --color-primary-2-hover: hsl(var(--primary-2-hover));

  --color-secondary: hsl(var(--secondary));
  --color-secondary-foreground: hsl(var(--secondary-foreground));
  --color-secondary-alt: hsl(var(--secondary-alt));
  --color-secondary-light: hsl(var(--secondary-light));

  --color-muted: hsl(var(--muted));
  --color-muted-foreground: hsl(var(--muted-foreground));
  --color-accent: hsl(var(--accent));
  --color-accent-foreground: hsl(var(--accent-foreground));

  --color-destructive: hsl(var(--destructive));
  --color-destructive-foreground: hsl(var(--destructive-foreground));

  --color-border: hsl(var(--border));
  --color-input: hsl(var(--input));
  --color-ring: hsl(var(--ring));

  /* semantic phụ */
  --color-success: hsl(var(--success));
  --color-warning: hsl(var(--warning));
  --color-info: hsl(var(--info));

  /* radii (dựa trên --radius gốc) */
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);

  /* shadow/easing cơ bản (tuỳ chọn) */
  --shadow-1: 0 1px 2px 0 rgb(0 0 0 / 0.06);
  --shadow-2: 0 8px 24px -8px rgb(0 0 0 / 0.25);
  --ease-out: cubic-bezier(0.16, 1, 0.3, 1);
}

/* ========= LIGHT THEME (MEMEW) ========= */
:root {
  --radius: 0.625rem;

  /* Backgrounds & text */
  --background: 0 0% 100%; /* #FFFFFF */
  --foreground: 0 0% 10%; /* #1A1A1A */

  --card: 210 17% 95%; /* #F3F4F6 */
  --card-foreground: 0 0% 10%;

  --popover: 210 17% 95%;
  --popover-foreground: 0 0% 10%;

  /* Primary */
  --primary: 24 100% 65%; /* #FF914D */
  --primary-foreground: 0 0% 98%; /* #FAFAFA */
  --primary-hover: 24 100% 58%; /* #FF7A29 */
  --primary-light: 24 100% 90%; /* #FFE1CC (approx) */

  /* Primary (custom set #763737 → #AB3B3B on hover) */
  --primary-2: 0 36% 34%; /* #763737 */
  --primary-2-hover: 0 49% 45%; /* #AB3B3B */

  /* Secondary */
  --secondary: 277 87% 36%; /* #6A0DAD */
  --secondary-foreground: 0 0% 98%;
  --secondary-alt: 274 100% 66%; /* #B84DFF */
  --secondary-light: 270 100% 93%; /* #EEDBFF */

  /* Muted/Accent */
  --muted: 210 17% 95%; /* neutral-100 */
  --muted-foreground: 215 16% 47%; /* #4B5563 */
  --accent: 270 100% 93%; /* secondary-light */
  --accent-foreground: 0 0% 10%;

  /* Destructive */
  --destructive: 0 84% 63%; /* #EF4444 */
  --destructive-foreground: 0 0% 98%;

  /* Controls */
  --border: 214 15% 83%; /* #D1D5DB */
  --input: 214 15% 83%;
  --ring: 24 100% 65%;

  /* Semantic phụ */
  --success: 158 64% 41%; /* #10B981 */
  --warning: 36 92% 52%; /* #F59E0B */
  --info: 217 91% 60%; /* #3B82F6 */
}

/* ========= DARK THEME (MEMEW) ========= */
[data-theme="dark"] {
  --background: 220 27% 10%; /* #111827 */
  --foreground: 0 0% 96%; /* #F5F5F5 */

  --card: 215 28% 17%; /* #1F2937 */
  --card-foreground: 0 0% 96%;

  --popover: 215 28% 17%;
  --popover-foreground: 0 0% 96%;

  --primary: 24 100% 65%;
  --primary-foreground: 220 27% 10%; /* #111827 */
  --primary-hover: 24 100% 58%;
  --primary-light: 24 28% 16%; /* #332218 approx */

  --secondary: 274 100% 66%; /* #B84DFF */
  --secondary-foreground: 220 27% 10%;
  --secondary-alt: 277 87% 36%; /* #6A0DAD */
  --secondary-light: 286 38% 16%; /* #2B173A */

  --muted: 215 28% 17%;
  --muted-foreground: 214 15% 83%; /* #D1D5DB */

  --accent: 286 38% 16%;
  --accent-foreground: 0 0% 96%;

  --destructive: 0 89% 74%; /* #F87171 */
  --destructive-foreground: 220 27% 10%;

  --border: 215 16% 34%; /* #4B5563 */
  --input: 215 16% 34%;
  --ring: 24 100% 65%;

  --success: 158 59% 56%; /* #34D399 */
  --warning: 42 96% 59%; /* #FBBF24 */
  --info: 214 88% 70%; /* #60A5FA */
}

/* ========= BASE LAYER ========= */
@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}

/* ========= COMPONENT UTILITIES (tối thiểu, optional) ========= */
@layer components {
  /* Ẩn thanh scrollbar (dùng cho danh mục trượt ngang) */
  .no-scrollbar::-webkit-scrollbar {
    display: none;
  }
  .no-scrollbar {
    -ms-overflow-style: none; /* IE & Edge */
    scrollbar-width: none; /* Firefox */
  }
  /* Button states khớp token MEMEW */
  .btn {
    @apply inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors disabled:opacity-50 disabled:pointer-events-none;
  }
  .btn-primary {
    background: var(--color-primary);
    color: var(--color-primary-foreground);
    box-shadow: var(--shadow-1);
  }
  .btn-primary:hover {
    background: var(--color-primary-hover);
  }
  .btn-primary:focus-visible {
    outline: none;
    box-shadow: 0 0 0 3px
      color-mix(in oklab, var(--color-primary) 25%, transparent);
  }

  .btn-secondary {
    background: var(--color-secondary);
    color: var(--color-secondary-foreground);
  }
  .btn-outline {
    @apply border;
    border-color: var(--color-border);
    color: var(--color-foreground);
    background: transparent;
  }
  .btn-outline:hover {
    background: var(--color-muted);
  }

  .btn-destructive {
    background: var(--color-destructive);
    color: var(--color-destructive-foreground);
  }

  /* Input cơ bản */
  .form-control {
    @apply w-full rounded-md px-3 py-2;
    background: var(--color-card);
    color: var(--color-foreground);
    border: 1px solid var(--color-input);
  }
  .form-control::placeholder {
    color: var(--color-muted-foreground);
  }
  .form-control:focus {
    outline: none;
    box-shadow: 0 0 0 2px var(--color-ring);
  }

  /* Alert & Badge theo semantic */
  .alert {
    @apply rounded-md border p-4;
    background: color-mix(
      in oklab,
      var(--color-foreground) 3%,
      var(--color-background)
    );
    border-color: var(--color-border);
  }
  .alert-error {
    border-color: color-mix(
      in oklab,
      var(--color-destructive) 35%,
      transparent
    );
    background: color-mix(
      in oklab,
      var(--color-destructive) 8%,
      var(--color-background)
    );
  }
  .alert-success {
    border-color: color-mix(in oklab, var(--color-success) 35%, transparent);
    background: color-mix(
      in oklab,
      var(--color-success) 8%,
      var(--color-background)
    );
  }
  .alert-info {
    border-color: color-mix(in oklab, var(--color-info) 35%, transparent);
    background: color-mix(
      in oklab,
      var(--color-info) 8%,
      var(--color-background)
    );
  }

  .badge {
    @apply inline-flex items-center rounded-full px-2.5 py-1 text-xs font-medium;
  }
  .badge-success {
    background: var(--color-success);
    color: white;
  }
  .badge-warning {
    background: var(--color-warning);
    color: black;
  }
  .badge-info {
    background: var(--color-info);
    color: white;
  }
}
